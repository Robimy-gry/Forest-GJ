extends Area2D
var canFillWater = false

signal filledBucket

func _physics_process(delta):
	refillWater()

func refillWater():
	if canFillWater == true and Input.is_action_just_pressed("ui_select"):
		if GlobalWorld.tools["bucket"] == true:
			if GlobalWorld.isBucketFilled == false:
				$Splash1.play()
			GlobalWorld.isBucketFilled = true
			emit_signal("filledBucket")

func _on_WaterArea_body_entered(body):
	if body.is_in_group('Player'):
		canFillWater = true


func _on_WaterArea_body_exited(body):
	if body.is_in_group('Player'):
		canFillWater = false
